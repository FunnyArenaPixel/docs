{"version":3,"file":"index.js","sources":["../../src/node/inject.ts","../../src/node/utils.ts","../../src/node/prepare.ts","../../src/node/plugin.ts","../../src/node/use.ts"],"sourcesContent":["import type { ViteBundlerOptions } from \"@vuepress/bundler-vite\";\nimport type {\n  LoaderOptions,\n  WebpackBundlerOptions,\n} from \"@vuepress/bundler-webpack\";\nimport {\n  getBundlerName,\n  isFunction,\n  isString,\n  mergeViteConfig,\n} from \"@vuepress/helper\";\nimport type { App } from \"vuepress/core\";\n\ntype LoaderContext =\n  Exclude<LoaderOptions[\"additionalData\"], string | undefined> extends (\n    content: string,\n    loaderContext: infer T,\n  ) => string\n    ? T\n    : never;\n\n/**\n * Use \"additionalData\" to make `${id}-config` available in scss\n *\n * @param config VuePress Bundler config\n * @param app VuePress Node App\n * @param id Module id\n */\nexport const injectConfigModule = (\n  config: unknown,\n  app: App,\n  id: string,\n): void => {\n  const bundlerName = getBundlerName(app);\n\n  // for vite\n  if (bundlerName === \"vite\") {\n    const viteBundlerConfig = <ViteBundlerOptions>config;\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const originalAdditionalData:\n      | string\n      | ((source: string, file: string) => string | Promise<string>)\n      | undefined =\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      viteBundlerConfig.viteOptions?.css?.preprocessorOptions?.[\"scss\"]\n        .additionalData; // eslint-disable-line @typescript-eslint/no-unsafe-member-access\n\n    // eslint-disable-next-line\n    viteBundlerConfig.viteOptions = mergeViteConfig(\n      viteBundlerConfig.viteOptions || {},\n      {\n        css: {\n          preprocessorOptions: {\n            scss: {\n              charset: false,\n              additionalData: async (\n                source: string,\n                file: string,\n              ): Promise<string> => {\n                const originalContent = isString(originalAdditionalData)\n                  ? `${originalAdditionalData}${source}`\n                  : isFunction(originalAdditionalData)\n                    ? await originalAdditionalData(source, file)\n                    : source;\n\n                return originalContent.match(\n                  new RegExp(`@use\\\\s+[\"']@sass-palette\\\\/${id}-config[\"'];`),\n                )\n                  ? originalContent\n                  : `@use \"@sass-palette/${id}-config\";\\n${originalContent}`;\n              },\n            },\n          },\n        },\n      },\n    );\n  }\n\n  // for webpack\n  else if (bundlerName === \"webpack\") {\n    const webpackBundlerConfig = <WebpackBundlerOptions>config;\n\n    if (!webpackBundlerConfig.scss) webpackBundlerConfig.scss = {};\n\n    const { additionalData } = webpackBundlerConfig.scss;\n\n    const additionalDataHandler = (\n      content: string,\n      loaderContext: LoaderContext,\n    ): string => {\n      const originalContent = isString(additionalData)\n        ? `${additionalData}${content}`\n        : isFunction(additionalData)\n          ? additionalData(content, loaderContext)\n          : content;\n\n      return originalContent.match(\n        new RegExp(`@use\\\\s+([\"'])@sass-palette\\\\/${id}-config\\\\1;`),\n      )\n        ? originalContent\n        : `@use \"@sass-palette/${id}-config\";\\n${originalContent}`;\n    };\n\n    webpackBundlerConfig.scss.additionalData = additionalDataHandler;\n  }\n};\n","import { Logger } from \"@vuepress/helper\";\nimport { fs, getDirname, path } from \"vuepress/utils\";\n\nconst __dirname = getDirname(import.meta.url);\n\nexport const EMPTY_FILE = path.resolve(__dirname, \"../../styles/empty.scss\");\n\nexport const PLUGIN_NAME = \"vuepress-plugin-sass-palette\";\n\nexport const logger = new Logger(PLUGIN_NAME);\n\nexport const getPath = (path: string): string =>\n  fs.pathExistsSync(path) ? path : EMPTY_FILE;\n","import type { App } from \"vuepress/core\";\n\nimport { getPath } from \"./utils.js\";\n\nexport const prepareConfigFile = (app: App, id: string): Promise<string> =>\n  app.writeTemp(\n    `sass-palette/load-${id}.js`,\n    `\\\nimport \"@sass-palette/${id}-inject\";\nexport default {};\n`,\n  );\n\nexport const prepareInjectSass = (app: App, id: string): Promise<string> =>\n  app.writeTemp(\n    `sass-palette/${id}-inject.scss`,\n    `\\\n@use \"sass:meta\";\n\n@use \"@sass-palette/helper\";\n@use \"@sass-palette/${id}-palette\";\n\n$palette-variables: meta.module-variables(\"${id}-palette\");\n${\n  app.env.isDebug\n    ? `\n@debug \"${id} palette variables: #{meta.inspect($palette-variables)}\";\n@debug \"${id} config variables: #{meta.inspect(meta.module-variables(\"${id}-config\"))}\";\n`\n    : \"\"\n}\n\n@if meta.global-variable-exists(\"dark-selector\", $module: \"${id}-config\") {\n  @include helper.inject($palette-variables, ${id}-config.$dark-selector);\n} @else {\n  @include helper.inject($palette-variables);\n}\n`,\n  );\n\nexport interface PrepareConfigOptions {\n  id: string;\n  defaultConfig: string;\n  defaultPalette: string;\n  generator: string;\n  userConfig: string;\n  userPalette: string;\n}\n\nexport const prepareConfigSass = (\n  app: App,\n  {\n    id,\n    defaultConfig,\n    defaultPalette,\n    generator,\n    userConfig,\n    userPalette,\n  }: PrepareConfigOptions,\n): Promise<string> =>\n  app.writeTemp(\n    `sass-palette/${id}-config.scss`,\n    `\\\n@import \"file:///${getPath(defaultPalette)}\";\n@import \"file:///${getPath(defaultConfig)}\";\n@import \"file:///${getPath(userPalette)}\";\n@import \"file:///${getPath(userConfig)}\";\n@import \"file:///${getPath(generator)}\";\n`,\n  );\n\nexport interface PreparePaletteOptions {\n  id: string;\n  defaultPalette: string;\n  generator: string;\n  userPalette: string;\n}\n\nexport const preparePaletteSass = (\n  app: App,\n  { id, defaultPalette, generator, userPalette }: PreparePaletteOptions,\n): Promise<string> =>\n  app.writeTemp(\n    `sass-palette/${id}-palette.scss`,\n    `\\\n@import \"file:///${getPath(defaultPalette)}\";\n@import \"file:///${getPath(userPalette)}\";\n@import \"file:///${getPath(generator)}\";\n`,\n  );\n\nexport interface PrepareStyleOptions {\n  id: string;\n  userStyle: string | null;\n}\n\nexport const prepareStyleSass = (\n  app: App,\n  { id, userStyle }: PrepareStyleOptions,\n): Promise<string | null> =>\n  userStyle\n    ? app.writeTemp(\n        `sass-palette/${id}-style.scss`,\n        `\\\n@forward \"file:///${getPath(userStyle)}\";\n`,\n      )\n    : Promise.resolve(null);\n","import { watch } from \"chokidar\";\nimport type { PluginFunction } from \"vuepress/core\";\nimport { getDirname, path } from \"vuepress/utils\";\n\nimport { injectConfigModule } from \"./inject.js\";\nimport type { SassPaletteOptions } from \"./options.js\";\nimport {\n  prepareConfigFile,\n  prepareConfigSass,\n  prepareInjectSass,\n  preparePaletteSass,\n  prepareStyleSass,\n} from \"./prepare.js\";\nimport { PLUGIN_NAME, logger } from \"./utils.js\";\n\nconst __dirname = getDirname(import.meta.url);\n\nexport const sassPalettePlugin =\n  (options: SassPaletteOptions): PluginFunction =>\n  (app) => {\n    if (app.env.isDebug) logger.info(\"Options:\", options);\n\n    const {\n      id = \"hope\",\n      config = `.vuepress/styles/${id}-config.scss`,\n      defaultConfig = path.resolve(\n        __dirname,\n        \"../../styles/default/config.scss\",\n      ),\n      palette = `.vuepress/styles/${id}-palette.scss`,\n      defaultPalette = path.resolve(\n        __dirname,\n        \"../../styles/default/palette.scss\",\n      ),\n      generator = path.resolve(__dirname, \"../../styles/empty.scss\"),\n      style = \"\",\n    } = options;\n\n    const userConfig = app.dir.source(config);\n    const userPalette = app.dir.source(palette);\n    const userStyle = style ? app.dir.source(style) : null;\n\n    return {\n      name: PLUGIN_NAME,\n\n      multiple: true,\n\n      id,\n\n      alias: {\n        [`@sass-palette/helper`]: path.resolve(\n          __dirname,\n          \"../../styles/helper.scss\",\n        ),\n        [`@sass-palette/${id}-config`]: app.dir.temp(\n          `sass-palette/${id}-config.scss`,\n        ),\n        [`@sass-palette/${id}-inject`]: app.dir.temp(\n          `sass-palette/${id}-inject.scss`,\n        ),\n        [`@sass-palette/${id}-palette`]: app.dir.temp(\n          `sass-palette/${id}-palette.scss`,\n        ),\n        ...(style\n          ? {\n              [`@sass-palette/${id}-style`]: app.dir.temp(\n                `sass-palette/${id}-style.scss`,\n              ),\n            }\n          : {}),\n      },\n\n      extendsBundlerOptions: (config: unknown, app): void => {\n        injectConfigModule(config, app, id);\n      },\n\n      onInitialized: (): Promise<void> =>\n        Promise.all([\n          prepareInjectSass(app, id),\n\n          prepareConfigSass(app, {\n            id,\n            defaultConfig,\n            defaultPalette,\n            generator,\n            userConfig,\n            userPalette,\n          }),\n\n          preparePaletteSass(app, {\n            id,\n            defaultPalette,\n            generator,\n            userPalette,\n          }),\n\n          prepareStyleSass(app, { id, userStyle }),\n        ]).then(() => {\n          if (app.env.isDebug) logger.info(`Style file for ${id} generated`);\n        }),\n\n      onWatched: (app, watchers): void => {\n        const configWatcher = watch(userConfig, {\n          cwd: app.dir.source(),\n          ignoreInitial: true,\n        });\n\n        const updateConfig = (): Promise<void> =>\n          prepareConfigSass(app, {\n            id,\n            defaultConfig,\n            defaultPalette,\n            generator,\n            userConfig,\n            userPalette,\n          }).then(() => {\n            if (app.env.isDebug) logger.info(`Style file for ${id} updated`);\n          });\n\n        configWatcher.on(\"add\", () => {\n          void updateConfig();\n        });\n        configWatcher.on(\"unlink\", () => {\n          void updateConfig();\n        });\n\n        watchers.push(configWatcher);\n\n        const paletteWatcher = watch(userPalette, {\n          cwd: app.dir.source(),\n          ignoreInitial: true,\n        });\n\n        const updatePalette = (): Promise<void> =>\n          Promise.all([\n            prepareConfigSass(app, {\n              id,\n              defaultConfig,\n              defaultPalette,\n              generator,\n              userConfig,\n              userPalette,\n            }),\n\n            preparePaletteSass(app, {\n              id,\n              defaultPalette,\n              generator,\n              userPalette,\n            }),\n          ]).then(() => {\n            if (app.env.isDebug) logger.info(`Style file for ${id} updated`);\n          });\n\n        paletteWatcher.on(\"add\", () => {\n          void updatePalette();\n        });\n        paletteWatcher.on(\"unlink\", () => {\n          void updatePalette();\n        });\n\n        watchers.push(paletteWatcher);\n\n        if (userStyle) {\n          const styleWatcher = watch(userStyle, {\n            cwd: app.dir.source(),\n            ignoreInitial: true,\n          });\n\n          const updateStyle = (): Promise<void> =>\n            prepareStyleSass(app, { id, userStyle }).then(() => {\n              if (app.env.isDebug) logger.info(`Style file for ${id} updated`);\n            });\n\n          styleWatcher.on(\"add\", () => {\n            void updateStyle();\n          });\n          styleWatcher.on(\"unlink\", () => {\n            void updateStyle();\n          });\n          watchers.push(styleWatcher);\n        }\n      },\n\n      clientConfigFile: (app) => prepareConfigFile(app, id),\n    };\n  };\n","import type { App, PluginObject } from \"vuepress/core\";\n\nimport type { SassPaletteOptions } from \"./options.js\";\nimport { sassPalettePlugin } from \"./plugin.js\";\n\nexport const useSassPalettePlugin = (\n  app: App,\n  options: SassPaletteOptions,\n): void => {\n  const { plugins } = app.pluginApi;\n\n  if (\n    plugins\n      .filter<\n        PluginObject & { id: string }\n      >((plugin): plugin is PluginObject & { id: string } => plugin.name === `vuepress-plugin-sass-palette`)\n      .every((plugin) => plugin.id !== options.id)\n  )\n    app.use(sassPalettePlugin(options));\n};\n\nexport const removePalettePlugin = (app: App, id: string): void => {\n  const { plugins } = app.pluginApi;\n\n  const index = plugins\n    .filter<\n      PluginObject & { id: string }\n    >((plugin): plugin is PluginObject & { id: string } => plugin.name === `vuepress-plugin-sass-palette`)\n    .findIndex((plugin) => plugin.id === id);\n\n  if (index !== -1) app.pluginApi.plugins.splice(index, 1);\n};\n"],"names":["injectConfigModule","config","app","id","bundlerName","getBundlerName","viteBundlerConfig","originalAdditionalData","mergeViteConfig","source","file","originalContent","isString","isFunction","webpackBundlerConfig","additionalData","additionalDataHandler","content","loaderContext","__dirname","getDirname","EMPTY_FILE","path","PLUGIN_NAME","logger","Logger","getPath","fs","prepareConfigFile","prepareInjectSass","prepareConfigSass","defaultConfig","defaultPalette","generator","userConfig","userPalette","preparePaletteSass","prepareStyleSass","userStyle","sassPalettePlugin","options","palette","style","watchers","configWatcher","watch","updateConfig","paletteWatcher","updatePalette","styleWatcher","updateStyle","useSassPalettePlugin","plugins","plugin","removePalettePlugin","index"],"mappings":"gNA4Ba,MAAAA,EAAqB,CAChCC,EACAC,EACAC,IACS,CACT,MAAMC,EAAcC,EAAeH,CAAG,EAGtC,GAAIE,IAAgB,OAAQ,CAC1B,MAAME,EAAwCL,EAGxCM,EAKJD,EAAkB,aAAa,KAAK,qBAAsB,KACvD,eAGLA,EAAkB,YAAcE,EAC9BF,EAAkB,aAAe,CACjC,EAAA,CACE,IAAK,CACH,oBAAqB,CACnB,KAAM,CACJ,QAAS,GACT,eAAgB,MACdG,EACAC,IACoB,CACpB,MAAMC,EAAkBC,EAASL,CAAsB,EACnD,GAAGA,CAAsB,GAAGE,CAAM,GAClCI,EAAWN,CAAsB,EAC/B,MAAMA,EAAuBE,EAAQC,CAAI,EACzCD,EAEN,OAAOE,EAAgB,MACrB,IAAI,OAAO,+BAA+BR,CAAE,cAAc,CAC5D,EACIQ,EACA,uBAAuBR,CAAE;AAAA,EAAcQ,CAAe,EAC5D,CACF,CACF,CACF,CACF,CACF,CACF,SAGSP,IAAgB,UAAW,CAClC,MAAMU,EAA8Cb,EAE/Ca,EAAqB,OAAMA,EAAqB,KAAO,CAE5D,GAAA,KAAM,CAAE,eAAAC,CAAe,EAAID,EAAqB,KAE1CE,EAAwB,CAC5BC,EACAC,IACW,CACX,MAAMP,EAAkBC,EAASG,CAAc,EAC3C,GAAGA,CAAc,GAAGE,CAAO,GAC3BJ,EAAWE,CAAc,EACvBA,EAAeE,EAASC,CAAa,EACrCD,EAEN,OAAON,EAAgB,MACrB,IAAI,OAAO,iCAAiCR,CAAE,aAAa,CAC7D,EACIQ,EACA,uBAAuBR,CAAE;AAAA,EAAcQ,CAAe,EAC5D,EAEAG,EAAqB,KAAK,eAAiBE,CAC7C,CACF,ECvGMG,EAAYC,EAAW,YAAY,GAAG,EAE/BC,EAAaC,EAAK,QAAQH,EAAW,yBAAyB,EAE9DI,EAAc,+BAEdC,EAAS,IAAIC,EAAOF,CAAW,EAE/BG,EAAWJ,GACtBK,EAAG,eAAeL,CAAI,EAAIA,EAAOD,ECRtBO,EAAoB,CAAC1B,EAAUC,IAC1CD,EAAI,UACF,qBAAqBC,CAAE,MACvB,yBACoBA,CAAE;AAAA;AAAA,CAGxB,EAEW0B,EAAoB,CAAC3B,EAAUC,IAC1CD,EAAI,UACF,gBAAgBC,CAAE,eAClB;AAAA;AAAA;AAAA,sBAIkBA,CAAE;AAAA;AAAA,6CAEqBA,CAAE;AAAA,EAE7CD,EAAI,IAAI,QACJ;AAAA,UACIC,CAAE;AAAA,UACFA,CAAE,4DAA4DA,CAAE;AAAA,EAEpE,EACN;AAAA;AAAA,6DAE6DA,CAAE;AAAA,+CAChBA,CAAE;AAAA;AAAA;AAAA;AAAA,CAK/C,EAWW2B,EAAoB,CAC/B5B,EACA,CACE,GAAAC,EACA,cAAA4B,EACA,eAAAC,EACA,UAAAC,EACA,WAAAC,EACA,YAAAC,CACF,IAEAjC,EAAI,UACF,gBAAgBC,CAAE,eAClB,oBACeuB,EAAQM,CAAc,CAAC;AAAA,mBACvBN,EAAQK,CAAa,CAAC;AAAA,mBACtBL,EAAQS,CAAW,CAAC;AAAA,mBACpBT,EAAQQ,CAAU,CAAC;AAAA,mBACnBR,EAAQO,CAAS,CAAC;AAAA,CAEnC,EASWG,EAAqB,CAChClC,EACA,CAAE,GAAAC,EAAI,eAAA6B,EAAgB,UAAAC,EAAW,YAAAE,CAAY,IAE7CjC,EAAI,UACF,gBAAgBC,CAAE,gBAClB,oBACeuB,EAAQM,CAAc,CAAC;AAAA,mBACvBN,EAAQS,CAAW,CAAC;AAAA,mBACpBT,EAAQO,CAAS,CAAC;AAAA,CAEnC,EAOWI,EAAmB,CAC9BnC,EACA,CAAE,GAAAC,EAAI,UAAAmC,CAAU,IAEhBA,EACIpC,EAAI,UACF,gBAAgBC,CAAE,cAClB,qBACYuB,EAAQY,CAAS,CAAC;AAAA,CAEhC,EACA,QAAQ,QAAQ,IAAI,EC5FpBnB,EAAYC,EAAW,YAAY,GAAG,EAE/BmB,EACVC,GACAtC,GAAQ,CACHA,EAAI,IAAI,SAASsB,EAAO,KAAK,WAAYgB,CAAO,EAEpD,KAAM,CACJ,GAAArC,EAAK,OACL,OAAAF,EAAS,oBAAoBE,CAAE,eAC/B,cAAA4B,EAAgBT,EAAK,QACnBH,EACA,kCACF,EACA,QAAAsB,EAAU,oBAAoBtC,CAAE,gBAChC,eAAA6B,EAAiBV,EAAK,QACpBH,EACA,mCACF,EACA,UAAAc,EAAYX,EAAK,QAAQH,EAAW,yBAAyB,EAC7D,MAAAuB,EAAQ,EACV,EAAIF,EAEEN,EAAahC,EAAI,IAAI,OAAOD,CAAM,EAClCkC,EAAcjC,EAAI,IAAI,OAAOuC,CAAO,EACpCH,EAAYI,EAAQxC,EAAI,IAAI,OAAOwC,CAAK,EAAI,KAElD,MAAO,CACL,KAAMnB,EAEN,SAAU,GAEV,GAAApB,EAEA,MAAO,CACJ,uBAAyBmB,EAAK,QAC7BH,EACA,0BACF,EACA,CAAC,iBAAiBhB,CAAE,SAAS,EAAGD,EAAI,IAAI,KACtC,gBAAgBC,CAAE,cACpB,EACA,CAAC,iBAAiBA,CAAE,SAAS,EAAGD,EAAI,IAAI,KACtC,gBAAgBC,CAAE,cACpB,EACA,CAAC,iBAAiBA,CAAE,UAAU,EAAGD,EAAI,IAAI,KACvC,gBAAgBC,CAAE,eACpB,EACA,GAAIuC,EACA,CACE,CAAC,iBAAiBvC,CAAE,QAAQ,EAAGD,EAAI,IAAI,KACrC,gBAAgBC,CAAE,aACpB,CACF,EACA,CAAA,CACN,EAEA,sBAAuB,CAACF,EAAiBC,IAAc,CACrDF,EAAmBC,EAAQC,EAAKC,CAAE,CACpC,EAEA,cAAe,IACb,QAAQ,IAAI,CACV0B,EAAkB3B,EAAKC,CAAE,EAEzB2B,EAAkB5B,EAAK,CACrB,GAAAC,EACA,cAAA4B,EACA,eAAAC,EACA,UAAAC,EACA,WAAAC,EACA,YAAAC,CACF,CAAC,EAEDC,EAAmBlC,EAAK,CACtB,GAAAC,EACA,eAAA6B,EACA,UAAAC,EACA,YAAAE,CACF,CAAC,EAEDE,EAAiBnC,EAAK,CAAE,GAAAC,EAAI,UAAAmC,CAAU,CAAC,CACzC,CAAC,EAAE,KAAK,IAAM,CACRpC,EAAI,IAAI,SAASsB,EAAO,KAAK,kBAAkBrB,CAAE,YAAY,CACnE,CAAC,EAEH,UAAW,CAACD,EAAKyC,IAAmB,CAClC,MAAMC,EAAgBC,EAAMX,EAAY,CACtC,IAAKhC,EAAI,IAAI,SACb,cAAe,EACjB,CAAC,EAEK4C,EAAe,IACnBhB,EAAkB5B,EAAK,CACrB,GAAAC,EACA,cAAA4B,EACA,eAAAC,EACA,UAAAC,EACA,WAAAC,EACA,YAAAC,CACF,CAAC,EAAE,KAAK,IAAM,CACRjC,EAAI,IAAI,SAASsB,EAAO,KAAK,kBAAkBrB,CAAE,UAAU,CACjE,CAAC,EAEHyC,EAAc,GAAG,MAAO,IAAM,CACvBE,EAAAA,CACP,CAAC,EACDF,EAAc,GAAG,SAAU,IAAM,CAC1BE,EAAa,CACpB,CAAC,EAEDH,EAAS,KAAKC,CAAa,EAE3B,MAAMG,EAAiBF,EAAMV,EAAa,CACxC,IAAKjC,EAAI,IAAI,SACb,cAAe,EACjB,CAAC,EAEK8C,EAAgB,IACpB,QAAQ,IAAI,CACVlB,EAAkB5B,EAAK,CACrB,GAAAC,EACA,cAAA4B,EACA,eAAAC,EACA,UAAAC,EACA,WAAAC,EACA,YAAAC,CACF,CAAC,EAEDC,EAAmBlC,EAAK,CACtB,GAAAC,EACA,eAAA6B,EACA,UAAAC,EACA,YAAAE,CACF,CAAC,CACH,CAAC,EAAE,KAAK,IAAM,CACRjC,EAAI,IAAI,SAASsB,EAAO,KAAK,kBAAkBrB,CAAE,UAAU,CACjE,CAAC,EAWH,GATA4C,EAAe,GAAG,MAAO,IAAM,CACxBC,EACP,CAAA,CAAC,EACDD,EAAe,GAAG,SAAU,IAAM,CAC3BC,EACP,CAAA,CAAC,EAEDL,EAAS,KAAKI,CAAc,EAExBT,EAAW,CACb,MAAMW,EAAeJ,EAAMP,EAAW,CACpC,IAAKpC,EAAI,IAAI,OAAA,EACb,cAAe,EACjB,CAAC,EAEKgD,EAAc,IAClBb,EAAiBnC,EAAK,CAAE,GAAAC,EAAI,UAAAmC,CAAU,CAAC,EAAE,KAAK,IAAM,CAC9CpC,EAAI,IAAI,SAASsB,EAAO,KAAK,kBAAkBrB,CAAE,UAAU,CACjE,CAAC,EAEH8C,EAAa,GAAG,MAAO,IAAM,CACtBC,EACP,CAAA,CAAC,EACDD,EAAa,GAAG,SAAU,IAAM,CACzBC,EACP,CAAA,CAAC,EACDP,EAAS,KAAKM,CAAY,CAC5B,CACF,EAEA,iBAAmB/C,GAAQ0B,EAAkB1B,EAAKC,CAAE,CACtD,CACF,ECrLWgD,EAAuB,CAClCjD,EACAsC,IACS,CACT,KAAM,CAAE,QAAAY,CAAQ,EAAIlD,EAAI,UAGtBkD,EACG,OAEEC,GAAoDA,EAAO,OAAS,8BAA8B,EACpG,MAAOA,GAAWA,EAAO,KAAOb,EAAQ,EAAE,GAE7CtC,EAAI,IAAIqC,EAAkBC,CAAO,CAAC,CACtC,EAEac,EAAsB,CAACpD,EAAUC,IAAqB,CACjE,KAAM,CAAE,QAAAiD,CAAQ,EAAIlD,EAAI,UAElBqD,EAAQH,EACX,OAEEC,GAAoDA,EAAO,OAAS,8BAA8B,EACpG,UAAWA,GAAWA,EAAO,KAAOlD,CAAE,EAErCoD,IAAU,IAAIrD,EAAI,UAAU,QAAQ,OAAOqD,EAAO,CAAC,CACzD"}